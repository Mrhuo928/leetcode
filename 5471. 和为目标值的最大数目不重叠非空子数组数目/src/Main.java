import java.util.HashMap;

public class Main {

    public static int maxNonOverlapping(int[] nums, int target) {

        HashMap<Integer,Integer> hashMap = new HashMap<>();
        int sum = 0;
        int count = 0;
        for (int num : nums){
            sum += num;
            if (hashMap.containsKey(sum - target) || sum == target){
                count++;
                sum = 0;
                hashMap = new HashMap<>();
            }else {
                int cnt = hashMap.containsKey(sum) ? hashMap.get(sum)+1 : 1;
                hashMap.put(sum,cnt);
            }
        }
        return count;
    }

    public static void main(String[] args) {
        System.out.println(maxNonOverlapping(new int[]{-3,-4,-2,14,-8,1,-7,-10,-5,21,5,4,15,23,23,30,2,30,-1,20,-2,22,22,2,20,-9,16,-2,-4,24,19,11,7,12,-7,27,-10,26,5,0,13,22,13,-1,13,23,12,29,-7,15,-6,4,23,9,22,-2,-1,2,9,19,21,7,29,29,11,-7,24,12,10,20,18,10,29,6,15,28,-5,-9,10,16,-10,8,10,12,-3,-2,22,-10,27,0,8,27,8,24,21,18,12,14,-2,11,23,15,15,7,-8,23,-9,-6,10,-2,8,22,2,0,-8,16,27,8,-4,-9,23,7,-1,-4,2,28,4,21,3,16,11,25,30,-8,25,5,22,21,-1,-7,12,27,-10,-6,-6,30,16,-10,-2,-2,5,12,0,25,4,6,-10,28,7,16,12,8,-1,10,-5,-1,16,1,26,26,-8,18,20,-9,13,-8,-2,8,7,0,30,18,17,21,28,-8,7,22,6,-8,29,9,6,-5,-10,12,5,26,29,10,19,24,23,24,-10,21,10,1,13,17,-8,9,-10,23,7,19,28,20,27,9,8,5,7,24,-8,3,3,-8,14,1,14,-10,7,15,-7,-5,-7,14,5,30,6,15,5,29,14,14,26,15,25,11,16,30,26,13,2,-6,11,21,10,16,26,21,5,-10,-4,-6,-8,-4,13,24,15,3,16,1,24,23,23,2,9,18,24,1,27,24,20,-8,-3,17,4,17,3,24,15,5,5,17,15,19,1,1,-5,6,22,30,-3,17,8,3,15,16,-5,7,7,-5,27,-10,-2,-3,3,17,16,26,-5,19,14,25,-3,16,-4,-10,11,-8,8,19,4,10,10,25,23,21,5,7,3,3,21,7,-7,23,-5,16,17,4,23,3,29,16,29,6,7,11,9,10,7,-2,-2,-5,12,18,-7,-3,19,13,5,8,30,0,28,16,16,3,-3,24,7,0,0,-3,24,1,8,0,5,23,22,9,22,29,7,8,25,29,10,2,9,-5,19,0,0,29,19,5,22,3,26,23,29,30,23,2,0,-2,19,16,27,-9,19,15,27,29,4,10,1,19,-5,24,19,3,23,10,2,-1,21,18,4,23,-9,3,16,2,16,2,26,4,-7,9,29,4,-7,11,13,-10,11,25,25,3,-9,17,21,19,12,0,22,24,29,-8,-1,27,13,11,-6,1,25,5,-7,4,18,17,19,6,5,11,4,26,24,-6,30,-7,16,25,6,-6,29,28,21,-3,23,-9,8,27,18,11,-7,14,-5,22,4,7,24,12,-8,19,16,0,4,-6,3,0,22,-7,1,-9,3,4,11,20,20,12,21,26,-10,-4,7,15,18,20,2,28,12,28,8,27,14,-6,26,-6,29,22,-2,7,20,28,21,-4,5,5,-8,15,7,-2,23,18,-9,26,20,2,-6,-4,-6,20,16,12,-9,27,-8,19,4,12,1,8,16,-4,-3,22,9,1,-1,-1,-2,21,6,27,22,23,15,10,29,21,21,3,13,0,15,26,15,11,19,20,-1,16,27,3,16,28,26,-7,-1,-7,29,8,29,-6,14,26,19,12,21,-9,29,6,14,30,-3,30,9,27,2,1,6,0,8,18,29,26,-5,28,12,16,6,2,19,12,9,7,12,8,21,1,27,17,-1,3,11,29,21,6,23,-5,9,11,-8,16,17,1,2,-6,-1,13,4,21,21,21,-10,-4,16,10,20,4,-4,10,-7,-7,-5,19,17,6,-8,7,23,9,-3,-5,-10,27,7,-3,17,-3,4,-7,18,17,-1,4,17,21,3,16,17,15,22,15,23,9,-9,-7,3,-7,-10,18,-1,24,14,20,-9,-9,-5,-2,12,5,-9,7,3,15,11,14,-3,30,-1,24,30,-3,22,-3,19,-1,22,23,22,-1,26,23,26,-1,13,0,20,24,15,1,25,24,-9,-1,17,-4,2,23,-4,-2,21,19,-3,9,23,19,-10,20,23,14,6,12,21,8,-6,1,11,5,30,-3,10,0,5,27,-8,-5,20,24,25,6,18,-8,20,-5,-6,28,19,-4,20,6,19,-2,0,27,0,10,23,16,10,-6,25,-10,20,-2,8,4,-4,28,16,7,6,27,19,28,18,19,8,9,12,-6,27,-4,18,21,18,10,22,20,7,29,14,16,20,26,18,13,12,3,18,7,19,7,-1,21,-4,-8,29,18,17,13,20,16,11,5,26,-8,21,-3,23,-1,23,14,-1,16,-6,-3,16,5,-9,4,-4,-3,26,6,19,8,28,27,3,-8,22,18,2,-2,12,6,5,14,23,28,-4,26,23,3,0,15,24,30,7,2,14,14,7,29,2,-8,10,6,10,-6,-9,-4,19,13,27,-3,-4,-9,-8,23,-8,10,15,8,22,24,28,23,4,16,6,23,6,-7,29,-4,16,-10,18,20,15,22,30,0,15,28,-7,27,23,-2,29,22,10,10,24,2,22,-8,9,6,23,18,-4,27,8,13,10,12,5,2,0,6,-2,4,9,16,14,4,23,7,29,28,27,-1,21,12,-2,27,2,6,-10,19,28,-6,14,26,22,5,25,12,2,4,12,-2,-5,26,-2,-2,23,5,-9,23,-9,-5,9,1,29,-7,27,25,-2,9,-7,-1,20,12,-4,14,15,7,21,13,4,7,4,14,25,-2,9,23,-6,29,2,27,-9,27,26,-2,11,13,-1,18,-2,4,29,-9,8,9,-3,16,28,18,10,-10,-5,20,10,12,15,19,4,5,4,15,-10,18,16,27,-4,12,5,3,-2,-6,2,21,20,-7,5,1,11,25,3,30,1,-4,25,0,26,4,12,14,20,24,16,15,23,27,7,15,19,-9,11,28,-4,7,20,4,18,13,19,28,-7,11,30,24,19,4,6,20,29,-2,-6,-7,22,0,-1,25,2,7,27,-6,3,-10,-4,5,-9,2,24,13,27,-4,6,9,-6,30,30,23,4,27,11,2,2,19,11,4,21,21,9,-3,5,-9,21,22,-4,30,6,-7,25,18,14,27,18,-5,5,-8,-3,28,-10,8,11,6,19,-9,18,10,5,-3,22,-7,0,4,-10,-1,26,-5,-5,11,-10,23,14,12,29,12,1,-8,-1,23,23,20,15,13,29,6,14,14,20,-1,18,5,0,-5,2,-9,27,12,-3,13,-6,2,7,30,13,10,7,-1,16,6,20,9,-3,19,27,-1,25,7,-1,11,2,-4,-7,15,5,-8,0,7,15,-2,-9,8,7,22,11,19,-6,19,15,-4,7,-6,27,4,4,1,-1,17,-5,23,8,-1,24,16,-5,8,14,-9,-5,4,20,27,7,21,19,29,-9,3,16,12,17,6,5,-5,-6,30,6,-10,-4,15,-9,21,8,13,-2,5,24,-5,4,13,9,-10,30,-7,7,-7,1,9,18,3,12,0,13,25,28,27,21,11,24,1,20,25,-5,13,9,17,8,19,3,29,12,6,-5,20,24,19,4,0,14,22,-4,25,11,-8,-7,2,8,12,7,29,22,-3,22,-8,2,-6,19,12,17,3,11,5,-7,20,13,-5,12,3,18,17,14,3,-5,29,18,1,-6,22,27,20,23,23,-3,20,4,12,25,21,-1,19,19,-8,24,10,21,11,2,25,25,-8,0,10,1,13,9,-9,-1,3,0,30,4,29,20,15,14,18,8,12,-5,7,3,24,2,16,18,29,-5,9,10,-6,27,2,15,-8,5,-4,11,29,12,30,30,23,21,-7,17,24,-4,9,11,6,-4,-1,23,9,25,11,28,-4,-4,11,-10,-10,-4,-10,-3,21,-1,12,-1,20,4,-3,12,0,7,24,1,8,-10,22,-2,19,2,25,-9,10,26,27,-1,-6,4,15,7,16,-1,18,-7,16,18,16,6,12,-8,14,27,23,3,0,9,3,3,24,16,-3,11,17,-2,16,12,19,4,-2,25,-4,1,-3,24,7,18,16,7,27,11,1,6,5,13,13,-10,0,3,5,26,26,25,7,27,-5,28,13,-6,-1,-5,23,18,-1,-3,-1,0,19,20,25,-1,-10,21,19,-6,23,15,14,13,0,18,0,30,13,5,7,20,-2,27,15,29,-5,23,-5,10,28,9,-3,21,-3,23,29,4,4,9,3,24,18,7,8,25,17,27,19,6,26,7,4,19,3,-8,-4,9,9,4,-4,22,4,4,26,10,-7,-7,7,9,-3,24,20,2,28,-1,10,9,26,5,24,4,-10,7,27,20,-10,30,19,13,6,1,-8,23,11,22,5,-10,-1,-6,26,29,7,19,5,2,20,20,21,12,-4,-2,11,1,28,14,21,29,7,-6,22,12,21,27,-10,19,29,-2,6,27,-8,9,-6,3,-10,-5,8,13,20,2,13,17,19,1,-7,8,-2,30,13,-2,27,-3,-4,6,4,28,4,-2,25,9,5,-8,16,28,17,12,15,28,18,-2,2,1,10,17,9,-6,16,12,-2,4,8,5,0,23,9,10,8,5,-3,28,18,30,12,13,16,17,-8,15,29,20,9,1,3,23,-3,2,1,29,7,-2,21,18,-10,-7,30,-2,8,-6,21,13,29,5,29,16,2,14,17,-1,6,15,24,-2,-1,10,-4,25,3,24,-4,26,29,-3,18,-2,-6,-1,-5,-4,24,17,-1,28,16,29,5,11,-1,19,-4,4,25,-4,28,0,-9,26,25,26,13,6,3,-2,-7,29,-7,17,0,-3,-8,20,-5,27,18,-9,20,9,11,-1,11,30,-1,-5,2,26,5,-7,9,24,23,8,10,29,2,11,-10,14,0,12,0,14,16,30,16,5,23,13,27,-5,3,17,13,-8,1,-10,-3,9,15,11,7,0,12,-7,2,24,6,-3,-8,-1,-6,17,-2,9,5,5,10,15,10,18,-2,-4,9,9,7,15,14,22,18,-9,20,-2,15,6,4,-3,0,20,-4,0,-5,10,5,-1,-1,19,26,19,18,5,23,-6,21,24,25,13,9,-4,13,28,6,-3,7,11,23,16,13,7,-10,4,14,5,25,10,12,26,14,22,2,13,20,30,1,8,28,-1,1,-7,-2,-9,-7,14,22,29,25,15,26,1,17,26,12,-1,-6,10,23,17,-6,-7,-2,-3,9,26,-1,29,26,19,5,21,-3,5,0,13,18,-4,22,-1,12,1,-10,-7,28,25,-1,13,9,4,9,-1,23,30,3,10,27,30,23,29,-10,-6,-2,4,21,-7,6,15,13,15,24,14,16,15,-7,1,25,23,-2,6,7,1,6,16,-6,8,15,-6,14,-2,8,1,12,23,12,30,19,-9,-4,18,19,-3,13,-9,10,-8,2,17,10,10,25,8,-2,28,-6,16,13,-9,26,-1,-8,1,13,9,6,3,2,26,-8,15,5,22,-9,11,14,-5,17,30,17,11,27,-8,24,-5,-4,11,20,-6,13,5,11,12,4,14,13,26,10,12,15,10,-4,10,2,10,7,-7,18,-10,-3,13,-4,30,30,9,12,2,27,6,-7,5,23,-8,-5,-6,21,21,8,4,0,26,3,-1,-2,-2,13,-8,1,-2,21,7,0,26,-1,6,17,22,4,27,28,16,17,-8,3,6,11,-10,-2,23,17,8,18,13,4,-8,27,3,-6,-5,26,28,9,25,-7,-1,0,-1,23,7,5,-7,12,-9,25,22,12,21,21,29,27,27,26,11,11,30,15,0,28,-9,22,6,-2,25,27,29,16,11,-6,11,-3,-4,10,18,-10,9,20,21,-8,12,2,15,-8,13,19,14,4,12,7,-4,15,13,-3,11,19,23,12,8,19,16,-4,-8,-4,16,28,-6,22,29,26,25,5,-4,28,12,29,16,29,-9,-8,-7,-7,-3,7,-1,28,30,5,-7,-4,16,27,21,-9,-5,6,-8,-10,-2,9,-4,14,7,28,1,17,-5,-3,5,-7,6,24,-5,-2,10,6,7,11,24,10,-6,20,1,27,1,25,23,7,-8,12,18,-7,18,13,-4,22,27,7,-8,26,22,19,18,-2,21,-5,-4,10,0,24,9,-3,5,15,-10,9,11,28,-5,0,-3,19,15,27,11,4,-4,20,29,24,19,21,-9,-6,3,-1,9,-10,19,3,17,4,26,-10,22,15,17,16,6,-7,29,15,30,16,-3,2,3,27,-8,-8,9,-8,-2,22,-9,-2,7,15,13,-9,26,15,29,20,8,13,-10,2,-7,22,12,-9,21,8,-5,11,-1,2,10,-3,-2,24,24,-8,5,18,12,29,8,-10,27,5,-10,-8,29,20,-4,29,14,-5,8,28,-2,-10,-1,-7,11,1,17,22,-4,-1,-1,28,14,9,-4,21,14,18,28,-8,28,23,17,10,-2,17,7,18,14,-5,6,16,6,14,-5,19,25,18,14,-1,4,24,-3,-8,7,1,28,-4,9,0,28,14,5,-6,18,23,-4,-7,0,10,12,-8,13,17,14,-8,19,18,30,10,7,22,-5,27,5,-6,-4,12,9,23,21,30,-8,22,-9,-1,26,-4,-1,-3,-9,15,25,6,-5,4,3,16,6,0,1,-4,-8,-10,27,-8,5,1,9,18,-2,8,17,10,-1,15,-2,-10,8,2,27,6,20,-7,27,1,12,11,-4,-10,10,1,7,28,23,18,25,-2,0,12,26,6,17,6,15,21,-4,30,9,9,13,-9,22,1,7,10,12,0,28,-5,17,7,29,20,15,22,6,14,22,-8,20,19,14,15,19,26,30,18,-4,4,-9,18,29,28,12,25,22,26,-8,22,25,20,1,21,-5,6,7,12,2,-5,-5,-7,24,20,25,30,28,18,-3,30,25,-4,4,18,11,29,12,25,11,8,-7,-7,6,23,30,-8,1,16,15,30,7,-4,20,3,1,18,5,-10,27,-7,3,27,-9,5,23,12,10,16,27,-7,-4,3,10,12,20,4,7,25,3,4,22,30,20,19,5,24,9,19,-2,10,9,25,-7,8,7,0,19,23,28,23,-9,22,22,6,7,12,-3,22,12,24,19,-7,15,27,21,6,5,13,1,25,18,-4,12,17,29,-6,13,15,0,26,16,12,-1,-8,29,-9,11,-9,14,-7,20,23,29,11,-4,0,20,5,6,3,27,27,23,20,-7,-8,19,22,-10,13,22,27,5,14,-5,4,18,23,7,19,27,2,-6,-2,7,28,16,22,28,18,16,30,25,26,23,13,19,14,5,-8,-4,16,29,-5,-5,30,-8,28,5,28,18,17,-7,24,15,24,12,28,30,25,15,29,-1,13,13,25,0,-9,-1,25,-8,19,25,16,8,4,30,10,12,-8,2,11,22,-7,29,-3,28,-2,16,-7,4,16,11,3,7,-1,9,21,-10,22,23,17,2,16,18,5,0,0,-3,23,10,3,18,25,17,14,10,29,-3,1,12,3,26,-7,-6,10,-3,-9,-3,-6,-1,4,8,8,20,2,6,-6,-2,0,30,11,12,-2,30,21,21,10,30,15,18,20,15,3,2,7,-1,14,16,19,9,28,-6,-3,-10,20,3,14,23,13,4,3,4,-3,17,4,-8,21,-10,2,-3,-8,-9,3,22,10,-4,29,14,-10,-2,-7,-10,30,26,24,4,10,9,6,21,15,28,-2,30,-7,16,25,1,13,22,12,12,-4,20,-4,29,28,7,13,24,29,22,-1,0,16,7,-7,21,3,8,16,-6,12,-5,-1,21,12,13,3,-7,-8,-8,0,23,-8,17,-4,-6,-4,23,23,-4,5,24,-3,22,8,29,1,16,-5,15,-1,15,-9,7,-7,14,6,-7,30,-4,-2,22,22,1,20,20,17,-4,14,-1,-7,19,-9,3,8,27,4,21,28,30,14,29,-7,22,3,14,2,16,5,-10,-1,3,-6,4,5,17,-7,13},50));
    }
}
